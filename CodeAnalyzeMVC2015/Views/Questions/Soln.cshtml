@{
    ViewBag.Title = "Soln";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



@model CodeAnalyzeMVC2015.Models.VwSolutionsModel

<script type="text/javascript" src="~/Scripts/tinymce/tinymce.min.js"></script>
<script type="text/javascript">
        tinymce.init({
            mode: "textareas",
            plugins: "paste",
            menubar: false,
            toolbar: false,
            statusbar: false,
            keep_styles: false,
            height: "300px",
            width: "100%",
            encoding: 'xml',
            paste_auto_cleanup_on_paste: true,
            paste_remove_styles: true,
            paste_remove_styles_if_webkit: true,
            paste_strip_class_attributes: "all",
            setup: function (ed) {
                ed.on('init', function () {
                    this.getDoc().body.style.fontSize = '13px';
                });
            }
        });
</script>


<script language="javascript" type="text/javascript">
    function ValidateText()
    {
        var content = tinyMCE.get('SolutionEditor').getContent()
        var VarEMail = document.getElementById('hfUserEMail').value;

        if (VarEMail != "")
        {
            if (content == "")
            {
                alert("Please enter details");
                return false;
            }
            else
            {
                return true;
            }
        }
        else {
            alert("Please login to post");
            return false;
        }
    }
</script>




@using (Html.BeginForm("InsertAns", "Questions"))
{

    <table style="width: 100%; word-wrap: normal; word-break: break-all;">
        <tr>
            <td align="left">
                <table style="width:50%;">
                    <tr>
                        <td style="width: 20%;">
                            @if(!string.IsNullOrEmpty(Model.ImageURL))
                            {
                                <img id="imgAskedUser" src="@Url.Content("~/Images/" + System.IO.Path.GetFileName(Model.ImageURL))" style="height:50px;width:50px" />
                            }
                         </td>
                        <td align="left" style="width:80%;font-weight:bold;font-family:Calibri">@Model.AskedUser</td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td style="width: 100%;font-weight:bold;font-family:Calibri;font-size:20px;color:black">
                @Model.QuestionTitle.Replace("<b>", "").Replace("</b>", "")
            </td>
        </tr>

        <tr>
            <td align="right" style="padding-right:2%">
                <img id="ImageButton1" style="height:30px;width:30px" src="~/Images/eye.png" />@Html.Raw(Model.QuestionViews)
            </td>
        </tr>

        <tr>
            <td style="width: 100%;font-family:Calibri;font-size:16px;color:black">
                @Html.Raw(ViewBag.QuestionDetails)
            </td>
        </tr>

    </table>


    <br />

    <table id="tblReplies" style="font-size:16px;word-wrap:normal;word-break:break-all;width:100%" cellpadding="0" cellspacing="0">
        <tr>
            <td>
                @Html.Label("", "Answers", new { style = "font-weight:bold;font-family:Calibri;font-size:18px;color:#009933" });
            </td>
        </tr>
        
        <tr>
            <td>
              @Html.Raw(ViewBag.AnswerDetails)
            </td>
        </tr>

    </table>
    <br />
    <br />
    <br />
    <br />
    <table style="width: 100%; font-size: 16px" cellpadding="0" cellspacing="0">
        <tr>
            <td>
                <table style="width: 100%">
                    
                    <tr>
                        <td colspan="2" align="center">
                            <span style="width: 100%; font-weight: bold; font-family: Calibri; color: Red">@ViewBag.lblAck</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="background-color: #4fa4d5">
                            <b style="font-family: Calibri;" />Post your answer<span style="font-family: Calibri; font-size: 16px; font-weight: bold; color: Red">*</span>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="2" align="left">
                            Place your code between <b>#codestart</b> and <b>#codeend</b> tags mandatorily. If this not followed, code will not be properly highlighted.<br />
                            For ex
                            <pre>
                            #codestart
                                //your code here
                            #codeend
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            @Html.TextArea("SolutionEditor")
                            <br />
                        </td>
                    </tr>
                    <tr>
                        <td align="center" colspan="2">
                            <input type="submit" value="Submit" id="btnSubmit" onclick="return ValidateText()"
                                   style="border: none; color: white; background-color: #4fa4d5; font-family: Calibri; font-size: 16px" />
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

    
        @Html.Hidden("hfUserEMail", (object)ViewBag.UserEMail)


}


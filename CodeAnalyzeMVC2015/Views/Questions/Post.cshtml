
@{
    ViewBag.Title = "Post Question";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript" src="~/Scripts/tinymce/tinymce.min.js"></script>
<script type="text/javascript">
        tinymce.init({
            mode: "textareas",
            plugins: "paste",
            menubar: false,
            toolbar: false,
            statusbar: false,
            keep_styles: false,
            height: "300px",
            width: "90%",
            encoding: 'xml',
            paste_auto_cleanup_on_paste: true,
            paste_remove_styles: true,
            paste_remove_styles_if_webkit: true,
            paste_strip_class_attributes: "all",
            setup: function (ed) {
                ed.on('init', function () {
                    this.getDoc().body.style.fontSize = '13px';
                });
            }
        });
</script>

<script language="javascript" type="text/javascript">
        function ValidateText() {
            var varcont = '<%=EditorAskQuestion.ClientID %>' + '_ctl02_ctl00';
            var varTitle = '<%=txtTitle.ClientID %>';
            var VarType = '<%=ddType.ClientID %>';
            var VarhfUserEMail = '<%=hfUserEMail.ClientID %>';

            var content = document.getElementById(varcont).contentWindow.document.body.innerHTML;
            var title = document.getElementById(varTitle).value;
            var type = document.getElementById(VarType).value ;
            var VarEMail = document.getElementById(VarhfUserEMail).value;

            if (VarEMail != "") {
                if (content == "<br>" && title == "" && type == "---Select---") {
                    alert("Please enter question title, type and details");
                    return false;
                }
                else if (content != "<br>" && title == "" && type == "---Select---") {
                    alert("Please enter question title and type");
                    return false;
                }
                else if (content == "<br>" && title != "" && type == "---Select---") {
                    alert("Please enter question type and details");
                    return false;
                }
                else if (content == "<br>" && title == "" && type != "---Select---") {
                    alert("Please enter question title and content");
                    return false;
                }
                else if (content == "<br>" && title != "" && type != "---Select---") {
                    alert("Please enter question title and content");
                    return false;
                }
                else if (content != "<br>" && title != "" && type == "---Select---") {
                    alert("Please enter question title and content");
                    return false;
                }
                else if (content != "<br>" && title == "" && type != "---Select---") {
                    alert("Please enter question title and content");
                    return false;
                }
                else
                    return true;
            }
            else {
                alert("Please login to post");
                return false;
            }
        }
</script>

@using (Html.BeginForm("ProcessLogin", "Account"))
{
<table style="width:100%; font-size:16px" cellpadding="0"
       cellspacing="0">
    <tr>
        <td>
            <table align="left" style="width: 100%">
                <tr>
                    <td colspan="2" align="center">
                        <span style="color:#FF3300">@ViewBag.Ack</span>
                        <br />
                        <a href="@ViewBag.QuestionLink" />
                       
                    </td>
                </tr>
                <tr>
                    <td colspan="2" align="center">
                        Post Your Question
                    </td>
                </tr>
                
                <tr>
                    <td style="font-family: Calibri;" align="center">
                        Title:<span style="font-family:Calibri; font-size:16px;color:Red">*</span>
                    </td>
                    <td>
                        @Html.TextBox("txtTitle", "", new { style = "width:90%;height:30px;border:groove;border-width:1px" })
                    </td>
                </tr>
                <tr>
                    <td style="font-family: Calibri;" align="center">
                        Type:<span style="font-family:Calibri; font-size:16px;color:Red">*</span>
                    </td>
                    <td>
                        @*@Html.DropDownList("ddType", "---Select---")*@
                        @*<asp:DropDownList ID="ddType" runat="server" DataTextField="QuestionType" Font-Size="14px"
                                          Font-Names="Calibri" AppendDataBoundItems="true" DataValueField="QuestionTypeId">
                            <asp:ListItem Selected="True" Text="---Select---" Value="---Select---" />
                        </asp:DropDownList>*@
                    </td>
                </tr>
                <tr>
                    <td style="font-family: Calibri;" align="center">
                        Details:<span style="font-family:Calibri; font-size:16px;color:Red">*</span>
                    </td>
                    <td>
                        <br />
                        @Html.TextArea("EditorAskQuestion")
                    </td>
                </tr>
                <tr>
                    <td align="center" colspan="2">
                        <input type="submit" value="Submit" id="btnSubmit" onclick="return ValidateText()"
                                style="border:none;color:white;background-color:#4fa4d5" />
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
@Html.Hidden("hfUserEMail", (object)ViewBag.UserEMail)
}


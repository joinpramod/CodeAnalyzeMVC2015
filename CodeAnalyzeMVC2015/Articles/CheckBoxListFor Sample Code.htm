<div style="font-size:16px;width:100%;font-family:Calibri">

<p style="width:80%">
    In Visual Studio download the package from Package Manager
</p>
<p style="width:80%">
    In “Visual Studio”
    Go to “Tools”
    <br />
    Select “Library Package Manger”
    <br />
    Select “Package Manager Console”
</p>
    <p style="width:80%">
        Type “Install-Package MvcCheckBoxList” and hit Enter</p>
     <p style="width:80%">
        After installation, create the necessary model required.</p>

     <p style="width:80%">
        View code is shown below to select Employees.</p>

    <pre class="brush: csharp">
        @using MvcCheckBoxList.Model
        @model CheckBoxListForApp.Models.EmployeeViewModel
 
        @{
            ViewBag.Title = "Home Page";
        }
 
        <p>
            <span>Select Employees</span>
            @using (Html.BeginForm("Index", "Home", FormMethod.Post))
            {
                @Html.CheckBoxListFor(model => model.SelectedEmployees.EmpIds,
                                        model => model.TotalEmployees,
                                        emp => emp.Id,
                                        emp => emp.Name,
                                        model => model.SelectedEmployees,
                                        Position.Horizontal)
                <input type="submit" value="Select Employees" />
            }
        </p>
    
    </pre>
<p style="width:80%">Controller is as given below</p>

    <pre class="brush: csharp">
        [HttpGet]
        public ActionResult Index()
        {
            var model = new EmployeeViewModel();
            var selectedEmployees = new List<Employee>();
 
            model.AvailableEmployees = EmployeeRepository.GetAll().ToList();
            model.SelectedEmployees = selectedEmployees;
            return View(model);
        }
 
        [HttpPost]
        public ActionResult Index(PostedEmployees postedEmployees)
        {
 
            var model = new EmployeeViewModel();
            var selectedEmployees = new List<Employee>();
            var postedEmployeeIds = new string[0];
            if (postedEmployees == null) postedEmployees = new PostedEmployees();
 
            if (postedEmployees.EmployeeIds != null && postedEmployees.EmployeeIds.Any())
            {
                postedEmployeeIds = postedEmployees.EmployeeIds;
            }
 
            if (postedEmployeeIds.Any())
            {
                selectedEmployees = EmployeeRepository.GetAll()
                 .Where(x => postedEmployeeIds.Any(s => x.Id.ToString().Equals(s)))
                 .ToList();
            }
 
            model.AvailableEmployees = EmployeeRepository. new List<Employee> {
                                                new Employee {Name = "Emp1", Id = 1 },
                                                new Employee {Name = "Emp2", Id = 2}};.ToList();
            model.SelectedEmployees = selectedEmployees;
            model.PostedEmployees = postedEmployees;
            return View(model);
        }
    </pre>

    <p><b>Employee ViewModel</b></p>


    <pre class="brush: csharp">
       public class Employee ViewModel
        {
            public IEnumerable<Employee> AvailableEmployee { get; set; }
            public IEnumerable<Employee> SelectedEmployee { get; set; }
            public string[] PostedEmployees { get; set; }
        }

    </pre>



    <br />
    <br />




</div>
